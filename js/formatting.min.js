wp.CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,n){return/^[;{}]$/.test(n)}}),wp.CodeMirror.defineExtension("autoFormatRange",function(t,o){var r=this,e=r.getMode(),n=r.getRange(t,o).split("\n"),i=wp.CodeMirror.copyState(e,r.getTokenAt(t).state),a=r.getOption("tabSize"),s="",d=0,f=0==t.ch;function p(){s+="\n",f=!0,++d}for(var c=0;c<n.length;++c){for(var l=new wp.CodeMirror.StringStream(n[c],a);!l.eol();){var g=wp.CodeMirror.innerMode(e,i),m=e.token(l,i),u=l.current();l.start=l.pos,f&&!/\S/.test(u)||(s+=u,f=!1),!f&&g.mode.newlineAfterToken&&g.mode.newlineAfterToken(m,u,l.string.slice(l.pos)||n[c+1]||"",g.state)&&p()}!l.pos&&e.blankLine&&e.blankLine(i),f||p()}r.operation(function(){r.replaceRange(s,t,o);for(var e=t.line+1,n=t.line+d;e<=n;++e)r.indentLine(e,"smart")})}),wp.CodeMirror.defineExtension("autoIndentRange",function(n,t){var o=this;this.operation(function(){for(var e=n.line;e<=t.line;e++)o.indentLine(e,"smart")})});
